CWChannel COREGRABCOMMUNICATION(host:"127.0.0.1",port:5555);

ObjTwo OBJ;
ObjFour OBJ;

NOSERVERATSTART MACHINE M_Question {

	interlocked WHEN M_Question DISABLED;
	idle DEFAULT;

	ENTER idle {
		SEND Question TO M_Question;
		WAITFOR M_Question IS ask;
	}

}

M_NoServerQuestion NOSERVERATSTART M_Question;


COUNTING MACHINE Obj {
	interlocked WHEN Obj DISABLED;
	interlocked WHEN Obj IS Idle ;
	incer WHEN SELF IS Waiting;
	Waiting DEFAULT;

	ENTER incer { Obj.Count := Obj.Count + 1; }

}

M_CounterOne COUNTING ObjOne;
M_CounterThree COUNTING ObjThree;
M_CounterFour COUNTING ObjFour;

#a StressPair b;

